import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;


public class ProcessList {
	/* ==============================================================================
	 *  Attributes
	 * ============================================================================== */
	private ArrayList<Process> _processList;

	
	/* ==============================================================================
	 *  Constructors
	 * ============================================================================== */
	public ProcessList (String filepath) throws IOException
	{
		_processList = new ArrayList<Process> ();
		this.loadCSV(filepath);
	}

	
	/* ==============================================================================
	 *  Getters
	 * ============================================================================== */
	public ArrayList<Process> processList () { return _processList; }

	
	/* ==============================================================================
	 *  IN
	 * ============================================================================== */
	public void loadCSV (String filepath) throws IOException
	{
		BufferedReader br = new BufferedReader (new FileReader(filepath));

		try
		{
			String line = br.readLine();
			String[] splitLine;

			// Reading these data
			String processID;	// Process name
			int A, B, C;		// Shared resources

			while (line != null)
			{
				if (line.charAt(0) == '#')
				{
					line = br.readLine();					
					continue;
				}
				
				splitLine = line.split(", ");
				
				// Parses line
				processID   = splitLine[0];
				A = Integer.parseInt(splitLine[1]);
				B = Integer.parseInt(splitLine[2]);
				C = Integer.parseInt(splitLine[3]);
				
				// Adds new Process to list
				_processList.add(new Process (processID, A, B, C));

				line = br.readLine();
			};
		}

		finally
		{
			br.close();
		}

	}
}
